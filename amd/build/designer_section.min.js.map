{"version":3,"sources":["../src/designer_section.js"],"names":["define","$","Ajax","Notification","DesignerSection","rootSelector","courseId","root","sectionnumber","data","on","e","preventDefault","console","log","currentTarget","setSectionOptions","name","value","done","window","location","href","attr","reload","fail","exception","prototype","options","call","methodname","args","courseid"],"mappings":"AAAAA,OAAM,oCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAAD,CAA+C,SAASC,CAAT,CAAYC,CAAZ,CAAkBC,CAAlB,CAAgC,CAEjF,GAAIC,CAAAA,CAAe,CAAG,SAASC,CAAT,CAAuBC,CAAvB,CAAiC,YACnD,KAAKC,IAAL,CAAYN,CAAC,CAACI,CAAD,CAAb,CACA,KAAKG,aAAL,CAAqB,KAAKD,IAAL,CAAUE,IAAV,CAAe,WAAf,CAArB,CACA,KAAKH,QAAL,CAAgBA,CAAhB,CAEA,KAAKC,IAAL,CAAUG,EAAV,CAAa,OAAb,CAAsB,kCAAtB,CAA0D,SAAAC,CAAC,CAAI,CAC3DA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBb,CAAC,CAACU,CAAC,CAACI,aAAH,CAAtB,EACA,CAAI,CAACC,iBAAL,CAAuB,CAAC,CACpBC,IAAI,CAAEhB,CAAC,CAACU,CAAC,CAACI,aAAH,CAAD,CAAmBN,IAAnB,CAAwB,QAAxB,CADc,CAEpBS,KAAK,CAAEjB,CAAC,CAACU,CAAC,CAACI,aAAH,CAAD,CAAmBN,IAAnB,CAAwB,OAAxB,CAFa,CAAD,CAAvB,EAGIU,IAHJ,CAGS,UAAM,CACXC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBrB,CAAC,CAACU,CAAC,CAACI,aAAH,CAAD,CAAmBQ,IAAnB,CAAwB,MAAxB,CAAvB,CACAH,MAAM,CAACC,QAAP,CAAgBG,MAAhB,EACH,CAND,EAMGC,IANH,CAMQtB,CAAY,CAACuB,SANrB,CAOH,CAVD,CAWH,CAhBD,CAwBAtB,CAAe,CAACuB,SAAhB,CAA0BX,iBAA1B,CAA8C,SAASY,CAAT,CAAkB,CAC5D,MAAO1B,CAAAA,CAAI,CAAC2B,IAAL,CAAU,CAAC,CACdC,UAAU,CAAE,qCADE,CAEdC,IAAI,CAAE,CACFC,QAAQ,CAAE,KAAK1B,QADb,CAEFE,aAAa,CAAE,KAAKA,aAFlB,CAGFoB,OAAO,CAAEA,CAHP,CAFQ,CAAD,CAAV,EAOH,CAPG,CAQV,CATD,CAWA,MAAOxB,CAAAA,CACV,CAtCK,CAAN","sourcesContent":["define(['jquery', 'core/ajax', 'core/notification'], function($, Ajax, Notification) {\n\n    let DesignerSection = function(rootSelector, courseId) {\n        this.root = $(rootSelector);\n        this.sectionnumber = this.root.data('sectionid');\n        this.courseId = courseId;\n\n        this.root.on('click', '[data-action=set-section-option]', e => {\n            e.preventDefault();\n            console.log(\"CLICK\", $(e.currentTarget));\n            this.setSectionOptions([{\n                name: $(e.currentTarget).data('option'),\n                value: $(e.currentTarget).data('value')\n            }]).done(() => {\n                window.location.href = $(e.currentTarget).attr('href');\n                window.location.reload();\n            }).fail(Notification.exception);\n        });\n    };\n\n    /**\n     * Set options for this course section.\n     *\n     * @param {object} options [{name: 'foo', value: 'Bar'}, ..]\n     * @returns {*}\n     */\n    DesignerSection.prototype.setSectionOptions = function(options) {\n        return Ajax.call([{\n            methodname: 'format_designer_set_section_options',\n            args: {\n                courseid: this.courseId,\n                sectionnumber: this.sectionnumber,\n                options: options\n            }\n        }])[0];\n    };\n\n    return DesignerSection;\n});"],"file":"designer_section.min.js"}